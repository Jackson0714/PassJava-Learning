# 疫情下，程序员间的一次对话



大家好，我是悟空呀~

本篇文章的思路来源：读者群里有些大佬在探讨是否可以通过「熔断」措施，来阻断疫情的传播。

先声明下：这篇不会深入探讨技术，也不会讨论疫情防控的错与对，更像是工程师间的一次有趣的对话，希望疫情早日结束。



S 城为什么还不封城？

核心模块，咋能说停服就停服？



S 城怎么只封部分小区？

限流，限流，限流。



S 城怎么封城了？

造成服务雪崩了，执行熔断了呗。



S 城怎么还有火车票在售？

Nginx 正向代理一些请求出去~



S 城开始建放舱了呀！

找出 bug，一起修复呗。



封楼栋了，赶紧搬到其他楼栋去吧。

Redis Cluster 集群模式下的 slot 迁移呗。（Redis 集群）



楼栋怎么是一栋一栋慢慢封的？

故障实例慢慢摘除呗，防止误删啊。（注册中心的故障摘除机制）



小区封了，这还怎么玩？

部分微服务宕机了，等 bug 修复了，再重启呗。



菜没有发给我们，怎么办？

CPU 的时间片还没有轮到你啊。



听说又要解封了？

核心服务不能停太长时间。



解封后，那么多人跑出去怎么办？

将压力「负载均衡」到其他地方呗。（Ribbon 负载均衡）



S 城为什么分封控区、管控区、防范区？

对应生产环境、UAT 环境、开发环境。生产环境上别瞎玩。



很多普通病人不能去医院，电话打不进去。

中心化，有性能瓶颈。



