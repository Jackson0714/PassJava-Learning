# 实战 Spring Cloud Gateway + JWT 实现登录认证

你好，我是悟空。

上篇我已经讲解了 Spring Cloud 的原理和实战，这次就要结合 JWT 来实现登录认证的功能了。

通过本文你会掌握以下知识点：

- 如何用`认证服务`做登录认证。
- 如何生成 JWT 令牌(Token)
- 如何用 Gateway 对 Token 验证。
- Gateway 如何从 Token 中拿到用户信息并转发给业务服务。
- 如何刷新令牌。

在讲解之前有必要澄清下什么是认证、授权、凭证，这三个方面是一个系统中最基础的安全设计。

## 一、认证、授权、凭证

### 1.1 认证（Authentication）

认证表示你是谁。系统如何正确分辨出操作用户的真实身份。

### 1.2 授权（Authorization）

授权表示你能干什么。系统如何控制一个用户能看到哪些数据和操作哪些功能。

### 1.3 凭证（Credential）

表示你如何证明你的身份。系统如何保证它与用户之间的承诺是双方当时真实意图的体现，是准确、完整和不可抵赖的。

## 二、如何做登录认证

## 三、如何发放令牌

## 四、网关如何验证 Token

## 五、





jwt 移到 common 项目

新增 auth 项目





![](http://cdn.jayh.club/uPic/image-20220811063233101ZTJUFx.png)

![image-20220811063312113](http://cdn.jayh.club/uPic/image-20220811063312113cAWtja.png)