## Linxu 安装 SVN Server

## 安装 SVN

启动 SVN 容器

``` SH
docker run --restart=always -v /Users/wukong/_workspace/svn/repo:/var/opt/svn --name svn-server -p 3690:3690 --privileged=true -e SVN_REPONAME=repository -d garethflowers/svn-server:latest
```

创建一个仓库

```sh
docker exec -it svn-server svnadmin create crm-repo
```

![](http://cdn.jayh.club/uPic/image-20220921163908302Bm5Fwf.png)

容器中对应的目录：

/var/opt/svn/crm-repo

![](http://cdn.jayh.club/uPic/image-20220921165831288gPkirk.png)



修改配置

改密码:

vim /Users/wukong/_workspace/svn/repo/crm-repo/conf/passwd

 在**[users]**块中添加用户和密码，格式：帐号=密码，如wukong = 123

![](http://cdn.jayh.club/uPic/image-20220921164422528rzdr8r.png)

改权限：

vim /Users/wukong/_workspace/svn/repo/crm-repo/conf/authz

 在末尾添加如下代码：

```sh
[/]
wukong = rw
wufan = rw
```



修改 svnserve.conf 文件

打开下面的几个注释：

- **anon-access = read** #匿名用户可读
- **auth-access = write** #授权用户可写
- **password-db = passwd** #使用哪个文件作为账号文件
- **authz-db = authz** #使用哪个文件作为权限文件
- **realm = crm-repo** # 认证空间名，版本库所在目录 权限域名，很重要，写你的工程名

改完后：

docker restart svn-server



## clone 仓库

拉取代码

![](http://cdn.jayh.club/uPic/image-20220921170727190YjSoBR.png)

![](http://cdn.jayh.club/uPic/image-20220921170747135D7RWCE.png)

![image-20220921170800877](http://cdn.jayh.club/uPic/image-20220921170800877kQdSk9.png)

![](http://cdn.jayh.club/uPic/image-20220921170813166DR5WDSvtg7LL.png)



添加文件

![image-20220921170959336](http://cdn.jayh.club/uPic/image-20220921170959336VSYlG0.png)

![image-20220921171009255](http://cdn.jayh.club/uPic/image-20220921171009255pGCVSi.png)

commit 改动

![](http://cdn.jayh.club/uPic/image-20220921171108653YEgYaJ.png)

![](http://cdn.jayh.club/uPic/image-20220921171121216VytY4M.png)











查看服务器文件目录

![](http://cdn.jayh.club/uPic/image-20220921170513524eYfpIb.png)

![image-20220921170533795](http://cdn.jayh.club/uPic/image-20220921170533795axjvdU.png)

![](http://cdn.jayh.club/uPic/image-20220921170603966uhq05d.png)

创建 develop 分支

![](http://cdn.jayh.club/uPic/image-202209211716136086QFEqC.png)

![image-20220921171753753](http://cdn.jayh.club/uPic/image-20220921171753753h5skW3.png)









![image-20220921172408334](http://cdn.jayh.club/uPic/image-202209211724083342hi9f6.png)

右键 SVN update 获取下最新分支

![](http://cdn.jayh.club/uPic/image-20220921172551926VJaVNI.png)
